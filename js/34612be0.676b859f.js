(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["34612be0"],{"238b":function(t,e,a){},"91f4":function(t,e,a){"use strict";a.r(e);var c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"cm-page flex column check-list-view"},[a("CheckListHeader",{staticClass:"check-list-view__header",attrs:{edit:t.edit},model:{value:t.checklist,callback:function(e){t.checklist=e},expression:"checklist"}}),a("q-list",{staticClass:"check-list-view__container"},[a("draggable",t._b({attrs:{list:t.checklist.sections,handle:".cl-handle-section",group:{name:"sections"}},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}}},"draggable",t.dragOptions,!1),t._l(t.checklist.sections,function(e,c){return a("CheckListSection",{key:e.id,attrs:{edit:t.edit,"hide-remove":1===t.checklist.sections.length},on:{"remove-section":function(e){return t.removeSection(c)},"add-section":function(e){return t.addSection(c)}},model:{value:t.checklist.sections[c],callback:function(e){t.$set(t.checklist.sections,c,e)},expression:"checklist.sections[sectionIndex]"}})}),1)],1),a("q-toolbar",{staticClass:"list-detail-toolbar"},[a("IconButton",{attrs:{icon:"mdi-arrow-left"},on:{click:t.back}}),a("q-space"),a("IconButton",{attrs:{icon:"mdi-pencil"},on:{click:function(e){t.edit=!0}}}),a("q-toolbar",{staticClass:"list-detail-toolbar__actions",class:{"list-detail-toolbar__actions--active":t.edit}},[a("IconButton",{attrs:{icon:"mdi-check"},on:{click:t.editComplete}}),a("q-space"),a("IconButton",{attrs:{icon:"mdi-delete"},on:{click:t.deleteDialog}}),a("IconButton",{attrs:{icon:"mdi-file-plus"},on:{click:t.templateDialog}}),a("IconButton",{attrs:{icon:"mdi-calendar-clock"},on:{click:function(e){t.dateDialog=!0}}}),a("IconButton",{attrs:{icon:"mdi-tag-multiple"},on:{click:function(e){t.tagDialog=!0}}})],1)],1),a("q-dialog",{attrs:{"content-class":"dialog-flat"},model:{value:t.dateDialog,callback:function(e){t.dateDialog=e},expression:"dateDialog"}},[a("DatePicker",{on:{close:function(e){t.dateDialog=!1},clear:t.clearDate},model:{value:t.checklist.dateDue,callback:function(e){t.$set(t.checklist,"dateDue",e)},expression:"checklist.dateDue"}})],1),a("q-dialog",{attrs:{"content-class":"dialog-flat",persistent:""},model:{value:t.tagDialog,callback:function(e){t.tagDialog=e},expression:"tagDialog"}},[a("TagPicker",{on:{close:function(e){t.tagDialog=!1}},model:{value:t.checklist.tags,callback:function(e){t.$set(t.checklist,"tags",e)},expression:"checklist.tags"}})],1)],1)},i=[],n=(a("a481"),a("3c93")),l=a.n(n),o=a("1980"),s=a.n(o),d=a("bd4c"),r=a("11ec"),u=a("2f62"),h=a("fb02"),k=a("dc20"),f=a("b126"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",{attrs:{flat:""}},[a("q-date",{attrs:{"today-btn":""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),a("q-card-actions",[a("q-btn",{attrs:{flat:""},on:{click:t.clear}},[t._v("Clear")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:""}},[t._v("Cancel")]),a("q-btn",{attrs:{flat:""},on:{click:t.save}},[t._v("Save")])],1)],1)},p=[],m={name:"DatePicker",data:function(){return{date:null}},props:["value"],methods:{clear:function(){this.$emit("clear")},save:function(){this.$emit("input",d["a"].formatDate(this.date,"YYYY-MM-DD")),this.$emit("close")}},mounted:function(){null!==this.value?this.date=this.value:this.date=d["a"].formatDate(new Date,"YYYY/MM/DD")}},b=m,D=a("2877"),v=Object(D["a"])(b,g,p,!1,null,null,null),C=v.exports,q=a("b4d3"),_=a("3a34"),w={name:"ListDetail",components:{CheckListHeader:h["a"],CheckListSection:k["a"],IconButton:f["a"],DatePicker:C,TagPicker:q["a"],draggable:s.a},props:{id:{type:String,required:!0},enableEdit:{type:Boolean,default:!1}},data:function(){return{checklist:null,edit:!1,drag:!1,dateDialog:!1,tagDialog:!1}},computed:l()({},Object(u["c"])(["getChecklist"]),{dragOptions:function(){return{animation:200,disabled:!1,ghostClass:"ghost"}},today:function(){return d["a"].formatDate(Date.now(),"YYYY-MM-DD")}}),methods:l()({},Object(u["b"])(["updateChecklist","deleteChecklist","createTemplate"]),{addSection:function(t){var e=_["c"].create();e.items.push(_["b"].create()),this.checklist.sections.splice(t+1,0,e)},removeSection:function(t){this.checklist.sections.splice(t,1)},clearDate:function(){this.checklist.dateDue=null,this.dateDialog=!1},templateDialog:function(){var t=this;this.$q.dialog({title:"New Template",prompt:{model:this.checklist.title},cancel:!0,className:"dialog-flat"}).onOk(function(e){var a=_["d"].fromChecklist(t.checklist,e);t.createTemplate(a)})},deleteDialog:function(){var t=this;this.$q.dialog({title:"Delete Checklist?",message:"This cannot be undone!",ok:{label:"Delete",color:"negative",flat:!0},cancel:!0,className:"dialog-flat"}).onOk(function(){t.deleteChecklist(t.checklist).then(function(){t.$router.replace("/")})})},handleUpdate:function(){this.updateChecklist(Object(r["a"])(!0,{},this.checklist))},editComplete:function(){this.handleUpdate(),this.edit=!1},back:function(){this.$router.back()}}),created:function(){this.checklist=Object(r["a"])(!0,{},this.getChecklist(this.id)),this.edit=this.enableEdit,this.$root.$on("checked",this.handleUpdate)}},$=w,Y=(a("ad56"),Object(D["a"])($,c,i,!1,null,null,null));e["default"]=Y.exports},ad56:function(t,e,a){"use strict";var c=a("238b"),i=a.n(c);i.a}}]);