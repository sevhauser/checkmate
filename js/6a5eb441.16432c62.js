(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["6a5eb441"],{"91f4":function(t,e,c){"use strict";c.r(e);var a=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("q-page",{staticClass:"cm-page flex column check-list-view"},[c("CheckListHeader",{staticClass:"check-list-view__header",attrs:{edit:t.edit},model:{value:t.checklist,callback:function(e){t.checklist=e},expression:"checklist"}}),c("q-list",{staticClass:"check-list-view__container"},[c("draggable",t._b({attrs:{list:t.checklist.sections,handle:".cl-handle-section",group:{name:"sections"}},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}}},"draggable",t.dragOptions,!1),t._l(t.checklist.sections,function(e,a){return c("CheckListSection",{key:e.id,attrs:{edit:t.edit,"hide-remove":1===t.checklist.sections.length},on:{"remove-section":function(e){return t.removeSection(a)},"add-section":function(e){return t.addSection(a)}},model:{value:t.checklist.sections[a],callback:function(e){t.$set(t.checklist.sections,a,e)},expression:"checklist.sections[sectionIndex]"}})}),1)],1),c("q-toolbar",{staticClass:"list-detail-toolbar"},[c("IconButton",{attrs:{icon:"mdi-arrow-left"},on:{click:t.back}}),c("q-space"),c("IconButton",{attrs:{icon:"mdi-pencil"},on:{click:function(e){t.edit=!0}}}),c("q-toolbar",{staticClass:"list-detail-toolbar__actions",class:{"list-detail-toolbar__actions--active":t.edit}},[c("IconButton",{attrs:{icon:"mdi-check"},on:{click:t.editComplete}}),c("q-space"),c("IconButton",{attrs:{icon:"mdi-delete"},on:{click:t.deleteDialog}}),c("IconButton",{attrs:{icon:"mdi-file-plus"},on:{click:t.templateDialog}}),c("IconButton",{attrs:{icon:"mdi-calendar-clock"},on:{click:function(e){t.dateDialog=!0}}}),c("IconButton",{attrs:{icon:"mdi-tag-multiple"},on:{click:function(e){t.tagDialog=!0}}})],1)],1),c("q-dialog",{attrs:{"content-class":"dialog-flat"},model:{value:t.dateDialog,callback:function(e){t.dateDialog=e},expression:"dateDialog"}},[c("DatePicker",{on:{close:function(e){t.dateDialog=!1},clear:t.clearDate},model:{value:t.checklist.dateDue,callback:function(e){t.$set(t.checklist,"dateDue",e)},expression:"checklist.dateDue"}})],1),c("q-dialog",{attrs:{"content-class":"dialog-flat",persistent:""},model:{value:t.tagDialog,callback:function(e){t.tagDialog=e},expression:"tagDialog"}},[c("TagPicker",{on:{close:function(e){t.tagDialog=!1}},model:{value:t.checklist.tags,callback:function(e){t.$set(t.checklist,"tags",e)},expression:"checklist.tags"}})],1)],1)},i=[],n=(c("8e6e"),c("8a81"),c("ac6a"),c("cadf"),c("06db"),c("456d"),c("a481"),c("c47a")),l=c.n(n),o=c("310e"),s=c.n(o),r=c("bd4c"),d=c("11ec"),u=c("2f62"),h=c("fb02"),f=c("dc20"),p=c("b126"),k=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("q-card",{attrs:{flat:""}},[c("q-date",{attrs:{"today-btn":""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),c("q-card-actions",[c("q-btn",{attrs:{flat:""},on:{click:t.clear}},[t._v("Clear")]),c("q-space"),c("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:""}},[t._v("Cancel")]),c("q-btn",{attrs:{flat:""},on:{click:t.save}},[t._v("Save")])],1)],1)},g=[],b={name:"DatePicker",data:function(){return{date:null}},props:["value"],methods:{clear:function(){this.$emit("clear")},save:function(){this.$emit("input",r["b"].formatDate(this.date,"YYYY-MM-DD")),this.$emit("close")}},mounted:function(){null!==this.value?this.date=this.value:this.date=r["b"].formatDate(new Date,"YYYY/MM/DD")}},m=b,D=c("2877"),v=Object(D["a"])(m,k,g,!1,null,null,null),O=v.exports,C=c("b4d3"),w=c("3a34");function q(t,e){var c=Object.keys(t);return Object.getOwnPropertySymbols&&c.push.apply(c,Object.getOwnPropertySymbols(t)),e&&(c=c.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),c}function _(t){for(var e=1;e<arguments.length;e++){var c=null!=arguments[e]?arguments[e]:{};e%2?q(c,!0).forEach(function(e){l()(t,e,c[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):q(c).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(c,e))})}return t}var y={name:"ListDetail",components:{CheckListHeader:h["a"],CheckListSection:f["a"],IconButton:p["a"],DatePicker:O,TagPicker:C["a"],draggable:s.a},props:{id:{type:String,required:!0},enableEdit:{type:Boolean,default:!1}},data:function(){return{checklist:null,edit:!1,drag:!1,dateDialog:!1,tagDialog:!1}},computed:_({},Object(u["c"])(["getChecklist"]),{dragOptions:function(){return{animation:200,disabled:!1,ghostClass:"ghost"}},today:function(){return r["b"].formatDate(Date.now(),"YYYY-MM-DD")}}),methods:_({},Object(u["b"])(["updateChecklist","deleteChecklist","createTemplate"]),{addSection:function(t){var e=w["c"].create();e.items.push(w["b"].create()),this.checklist.sections.splice(t+1,0,e)},removeSection:function(t){this.checklist.sections.splice(t,1)},clearDate:function(){this.checklist.dateDue=null,this.dateDialog=!1},templateDialog:function(){var t=this;this.$q.dialog({title:"New Template",prompt:{model:this.checklist.title},cancel:!0,className:"dialog-flat"}).onOk(function(e){var c=w["d"].fromChecklist(t.checklist,e);t.createTemplate(c)})},deleteDialog:function(){var t=this;this.$q.dialog({title:"Delete Checklist?",message:"This cannot be undone!",ok:{label:"Delete",color:"negative",flat:!0},cancel:!0,className:"dialog-flat"}).onOk(function(){t.deleteChecklist(t.checklist).then(function(){t.$router.replace("/")})})},handleUpdate:function(){this.updateChecklist(Object(d["a"])(!0,{},this.checklist))},editComplete:function(){this.handleUpdate(),this.edit=!1},back:function(){this.$router.back()}}),created:function(){this.checklist=Object(d["a"])(!0,{},this.getChecklist(this.id)),this.edit=this.enableEdit,this.$root.$on("checked",this.handleUpdate)}},j=y,$=(c("ad56"),Object(D["a"])(j,a,i,!1,null,null,null));e["default"]=$.exports},"9e97":function(t,e,c){},ad56:function(t,e,c){"use strict";var a=c("9e97"),i=c.n(a);i.a}}]);